<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#5">

    <meta>
    <meta name="description" content="rakia calculator">

    <title>Ракиен калкулатор</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/site.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/eae986932a.js" crossorigin="anonymous"></script>

</head>

<body style="background-color:aquamarine">
    <canvas id="canvas"></canvas>

    <header>

    </header>
    
    <main role="main">

        <div class="lifestyle-tools">
            <div class="rakia-calculator container">
                <header class="text-center pb-5">
                    <h1 class="title text-center">Ракиен калкулатор</h1>
                    <div class="center">
                        <img src="/pot.jpg">
                    </div>
                </header>

                <section class="container">
                    <div class="row" style="padding-bottom: 100px;">
                        <div style="margin-left:auto; margin-right:auto; padding-left:25px; padding-right:25px">
                            <form>
                                <div class="form-inline row pb-1">
                                    <label class="col-md-8 col-6">Количество алкохол (литри)</label>
                                    <input type="text" name="quantity" class="form-control col-md-4 col-6">
                                </div>
                                <div class="form-inline row pb-1">
                                    <label class="col-md-8 col-6">Първоначален алкохолен градус</label>
                                    <input type="text" name="currentDegree" class="form-control col-md-4 col-6">
                                </div>
                                <div class="form-inline row pb-1">
                                    <label class="col-md-8 col-6">Желан алкохолен градус</label>
                                    <input type="text" name="desiredDegree" class="form-control col-md-4 col-6">
                                </div>
                                <div class="col">
                                    <button type="button" class="btn btn-primary"
                                        onClick="Calculate(quantity.value,currentDegree.value,desiredDegree.value)">Калкулирай!</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
            </div>
        </div>


        <!-- Modal -->
        <div class="container">
            <div class="modal fade" id="modal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body text-center">
                            <strong id="result"></strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script language="javascript" type="text/javascript">

            function Calculate(quantity, currentDegree, desiredDegree) {
                var error = 'Rakia Calculator';
                var X1 = Number(quantity);
                var Y1 = Number(currentDegree);
                var Z1 = Number(desiredDegree);
                if (Y1 > 99) {
                    $('#modalLabel').text(error);
                    $('#result').text('Първоначалният алкохолен градус може да бъде максимум 100');
                    $('#modal').modal();
                }
                else {
                    if (Y1 < Z1) {
                        $('#modalLabel').text(error);
                        $('#result').text('Моля въведете по-малък желан градус от първоначалния');
                        $('#modal').modal("show");
                    }
                    else {
                        var result = ((Y1 - Z1) / Z1) * X1;
                        let message = $('#modalLabel').text('Необходимо количество вода:');
                        result = Math.round((result + Number.EPSILON) * 100) / 100;
                      
                        alert("Необходимо количество вода: " + result + "L");
                    }
                }
            }

        </script>

    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.1/js/bootstrap.min.js"></script>

</body>

</html>